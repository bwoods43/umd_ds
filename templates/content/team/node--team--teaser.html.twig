{#
/**
 * @file
 * Theme override to display Team node teaser
 */
#} 
{% set photo = '/' ~ base_path ~ directory ~ '/images/placeholder_team.jpg' %}
{% if content.field_team_image|field_value %}
	{% set photo = file_url(content.field_team_image|field_target_entity.uri.value | image_style('square')) %}
{% endif %}

<div class="person-block-container">
	<div class="person-block-wrapper">
		<div class="person-image-container"><a href="{{ url }}" class="person-name"><img src="{{ photo }}" alt="Portrait of {{ node.title.value }}"></a></div>
		<div class="person-text" has-contact="">
			<div class="person-text-main-wrapper">
				<p class="person-name">
					<a href="{{ url }}" class="person-name">{{ node.title.value }}</a>
  			</p>
  		</div>
  		<div class="person-contact-container">
  			{# show team_position title if on the contact page #}
  			{% if view.current_display == 'block_6' %}
					{{ content.field_team_position}}
				{% else %} 		
  				{{ content.field_ed_position }}		
				{% endif %}
  			
				{% if view.current_display == 'block_6' %}
					{% if content.field_ed_office_phone|field_value %}
						{# check if first three characters include a plus and one - remove for display purposes #}
						{% if content.field_ed_office_phone[0]['#context']['value']|slice(0,3) == '+1 ' %}
							{% set phone_number = content.field_ed_office_phone[0]['#context']['value']|slice(3) %}
						{% else %}
							{% set phone_number = content.field_ed_office_phone|field_value %}
  					{% endif %}  								
  					<a href="tel:{{ content.field_ed_office_phone[0]['#context']['value'] }}" class="person-contact-item">
  						<span><svg title="phone icon" aria-hidden="true" id="icon_phone" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.3401 14.8334C10.2992 14.8334 9.02222 14.354 7.61534 13.4096C4.77082 11.5008 1.44199 7.58345 1.18399 4.93645C1.10149 4.08987 1.31378 3.40679 1.8151 2.90547L3.55388 1.16669L7.09442 4.70722L6.81131 4.99033C6.3597 5.44202 5.61965 6.18049 5.09055 6.70601C5.57727 7.42079 6.51686 8.47707 7.21012 9.17033C7.86634 9.82597 8.62566 10.4228 9.31 10.8799C9.80298 10.3837 10.4665 9.71811 11.0092 9.17425L11.2928 8.89089L14.8333 12.4322L13.1156 14.1498C12.6585 14.607 12.0552 14.8334 11.3401 14.8334Z" fill="white"></path></svg></span>
  						<span>
								<div class="field field--name-field-ed-office-phone field--type-telephone field--label-hidden field__item">{{ phone_number }}</div>
						</span>
					</a>
					{% endif %}
					{% if content.field_team_email|field_value %}
						<a href="mailto:{{ content.field_team_email|field_value }}" class="person-contact-item">
							<span><svg title="email icon" aria-hidden="true" id="icon_email" width="14" height="10" viewBox="0 0 14 10" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.2447 0.5H1.97772L7.01238 5.05794L12.2447 0.5ZM13.8581 0.5L7.01238 6.57679L0.166656 0.5V9.39286H14V0.5H13.8581Z" fill="white"></path></svg></span>
							<span>{{ content.field_team_email|field_value }}</span>
						</a>
					{% endif %}
				{% endif %}
  		</div>
		</div>
	</div>
</div>
